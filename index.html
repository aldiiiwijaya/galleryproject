<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aldi Creative Portfolio</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; -webkit-font-smoothing: antialiased; background: transparent; min-height: 100vh; overflow: auto; }
body.aldi-popup-open { overflow: visible; position: static; width: auto; height: auto; }
.aldi-main-container { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 0; background: transparent; }
.aldi-popup-overlay { position: relative; z-index: 1; display: flex; align-items: center; justify-content: center; padding: 20px; opacity: 1; visibility: visible; width: 100%; height: auto; min-height: auto; background: transparent; }
.aldi-popup-content { background: linear-gradient(145deg, rgba(10, 10, 10, 0.98), rgba(26, 26, 46, 0.95)); backdrop-filter: blur(30px); border: 2px solid rgba(255, 255, 255, 0.1); border-radius: 32px; width: 100%; max-width: 1600px; max-height: 95vh; position: relative; overflow: hidden; margin: auto; box-shadow: 0 25px 60px rgba(0, 0, 0, 0.6), 0 0 100px rgba(123, 97, 255, 0.1); }
.aldi-header { padding: 24px 40px; border-bottom: 1px solid rgba(123, 97, 255, 0.2); display: flex; justify-content: center; align-items: center; position: sticky; top: 0; background: linear-gradient(145deg, rgba(10, 10, 10, 0.98), rgba(26, 26, 46, 0.95)); backdrop-filter: blur(30px); z-index: 10; min-height: 88px; position: relative; }
.aldi-title { font-size: 24px; font-weight: 700; background: linear-gradient(135deg, #ffffff 0%, #7b61ff 30%, #a855f7 70%, #ffffff 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; text-align: center; filter: drop-shadow(0 2px 8px rgba(123, 97, 255, 0.3)); letter-spacing: -0.3px; }
.aldi-close { background: linear-gradient(135deg, rgba(123, 97, 255, 0.2), rgba(168, 85, 247, 0.1)); border: 2px solid rgba(123, 97, 255, 0.3); color: #7b61ff; font-size: 20px; cursor: pointer; padding: 8px; border-radius: 12px; transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94); width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; position: absolute; right: 40px; top: 50%; transform: translateY(-50%); font-weight: bold; }
.aldi-close:hover { background: linear-gradient(135deg, #7b61ff, #a855f7); border-color: rgba(255, 255, 255, 0.3); color: #fff; transform: translateY(-50%) rotate(90deg) scale(1.1); box-shadow: 0 8px 32px rgba(123, 97, 255, 0.4); }
.aldi-body { padding: 0; max-height: calc(95vh - 88px); overflow-y: auto; overflow-x: hidden; scrollbar-width: none; -ms-overflow-style: none; }
.aldi-body::-webkit-scrollbar { display: none; }
.aldi-video-page { display: none; padding: 48px 40px 60px; animation: aldi-fadeIn 0.6s ease-out; }
.aldi-photo-page { display: none; padding: 40px; animation: aldi-fadeIn 0.6s ease-out; }
.aldi-detail-header { text-align: center; margin-bottom: 48px; }
.aldi-detail-title { font-size: 36px; font-weight: 700; background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 20px; line-height: 1.2; text-align: center; letter-spacing: -0.5px; }
.aldi-detail-description { color: rgba(255, 255, 255, 0.8); font-size: 18px; max-width: 700px; margin: 0 auto; line-height: 1.7; text-align: center; font-weight: 400; }
.aldi-videos-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 40px; max-width: 100%; margin: 0 auto; justify-content: center; }
.aldi-photo-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 28px; padding-bottom: 32px; flex: none; align-content: start; justify-items: center; width: 100%; box-sizing: border-box; }
.aldi-video-card { background: linear-gradient(145deg, rgba(15, 15, 30, 0.9), rgba(30, 30, 60, 0.8)); backdrop-filter: blur(25px); border: 2px solid rgba(123, 97, 255, 0.15); border-top: 2px solid rgba(123, 97, 255, 0.25); border-radius: 28px; padding: 24px; transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94); position: relative; overflow: hidden; display: flex; flex-direction: column; box-shadow: 0 12px 40px rgba(123, 97, 255, 0.15); opacity: 0; transform: translateY(50px) scale(0.9); animation: aldi-videoFadeIn 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; cursor: pointer; width: 100%; height: fit-content; }
.aldi-photo-item { width: 220px; height: 220px; border-radius: 28px; overflow: hidden; cursor: pointer; transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94); position: relative; background: linear-gradient(135deg, rgba(123, 97, 255, 0.1), rgba(168, 85, 247, 0.05)); touch-action: manipulation; opacity: 0; transform: translateY(50px) scale(0.9); animation: aldi-photoFadeIn 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; will-change: transform, box-shadow; border: 2px solid rgba(123, 97, 255, 0.15); box-shadow: 0 12px 32px rgba(123, 97, 255, 0.1); }
@keyframes aldi-videoFadeIn { to { opacity: 1; transform: translateY(0) scale(1); } }
@keyframes aldi-photoFadeIn { to { opacity: 1; transform: translateY(0) scale(1); } }
.aldi-video-card::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(123, 97, 255, 0.15), transparent); transition: left 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94); opacity: 0; z-index: 1; pointer-events: none; border-radius: inherit; }
.aldi-video-card:hover::before { opacity: 1; left: 100%; }
.aldi-video-card:hover { transform: scale(1.08) translateY(-16px); background: linear-gradient(145deg, rgba(123, 97, 255, 0.2), rgba(168, 85, 247, 0.15)); backdrop-filter: blur(30px); border-color: rgba(123, 97, 255, 0.4); box-shadow: 0 25px 60px rgba(123, 97, 255, 0.25); z-index: 10; }
.aldi-photo-item:hover { transform: scale(1.35) translateY(-20px); box-shadow: 0 20px 50px rgba(123, 97, 255, 0.35), 0 12px 24px rgba(0, 0, 0, 0.3); z-index: 2; filter: brightness(1.2) saturate(1.1); border-color: rgba(123, 97, 255, 0.5); }
.aldi-photo-item:active { transform: scale(1.2) translateY(-10px); transition: all 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
.aldi-video-wrapper { position: relative; width: 100%; aspect-ratio: 16/9; overflow: hidden; border-radius: 20px; margin-bottom: 0; background: #000; flex-shrink: 0; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3); }
.aldi-video-wrapper iframe { width: 100%; height: 100%; border: none; position: relative; z-index: 2; border-radius: 20px; background: #000; }
.aldi-photo-item img { width: 100%; height: 100%; object-fit: cover; transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94); loading: lazy; will-change: transform; }
.aldi-photo-item:hover img { transform: scale(1.15); }
.aldi-video-title { font-size: 16px; font-weight: 600; line-height: 1.3; margin-bottom: 8px; color: #fff; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4); text-align: center; position: relative; z-index: 2; margin-top: 12px; }
.aldi-lightbox { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.92); backdrop-filter: blur(12px); z-index: 99998; display: flex; align-items: center; justify-content: center; opacity: 0; visibility: hidden; transition: all 0.3s ease; padding: 20px; }
.aldi-lightbox.aldi-active { opacity: 1; visibility: visible; }
.aldi-lightbox-content { position: relative; max-width: 95vw; max-height: 95vh; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; }
.aldi-lightbox-video { width: 80vw; height: 45vw; max-width: 1200px; max-height: 675px; min-width: 600px; min-height: 338px; border-radius: 24px; box-shadow: 0 25px 60px rgba(123, 97, 255, 0.2); display: none; }
.aldi-lightbox-img { max-width: 90%; max-height: 90%; width: auto; height: auto; border-radius: 20px; box-shadow: 0 25px 60px rgba(123, 97, 255, 0.2); object-fit: contain; display: none; }
.aldi-lightbox-close { position: fixed; top: 40px; right: 40px; background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(20px); border: 2px solid rgba(255, 255, 255, 0.2); color: #fff; font-size: 18px; cursor: pointer; padding: 10px; border-radius: 12px; transition: all 0.3s ease; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; z-index: 99999; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.8); }
.aldi-lightbox-close:hover { background: linear-gradient(135deg, #7b61ff, #a855f7) !important; color: #fff !important; transform: rotate(90deg) scale(1.15) !important; border-color: rgba(255, 255, 255, 0.3) !important; }
.aldi-nav { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(15px); border: 2px solid rgba(255, 255, 255, 0.2); color: #fff; font-size: 18px; padding: 10px 12px; cursor: pointer; border-radius: 12px; transition: all 0.3s ease; }
.aldi-nav:hover { background: linear-gradient(135deg, #7b61ff, #a855f7); color: #fff; transform: translateY(-50%) scale(1.15); border-color: rgba(255, 255, 255, 0.3); }
.aldi-prev { left: 40px; }
.aldi-next { right: 40px; }
.aldi-loading { display: flex; align-items: center; justify-content: center; height: 200px; color: rgba(255, 255, 255, 0.8); font-size: 18px; grid-column: 1 / -1; font-weight: 500; }
.aldi-error { display: flex; align-items: center; justify-content: center; height: 200px; color: #ff6b6b; font-size: 18px; grid-column: 1 / -1; font-weight: 500; }
@keyframes aldi-fadeIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
@media (max-width: 768px) { .aldi-popup-overlay { padding: 10px; } .aldi-popup-content { width: 100%; height: 100vh; max-height: 100vh; border-radius: 0; } .aldi-header { padding: 20px 24px; min-height: 68px; } .aldi-title { font-size: 20px; } .aldi-close { width: 36px; height: 36px; font-size: 18px; right: 24px; } .aldi-close:hover { transform: translateY(-50%) rotate(90deg) scale(1.1); } .aldi-body { max-height: calc(100vh - 68px); } .aldi-video-page { padding: 32px 24px 48px; } .aldi-photo-page { padding: 24px; } .aldi-videos-grid { grid-template-columns: 1fr; gap: 28px; padding-bottom: 24px; } .aldi-photo-grid { grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 16px; padding-bottom: 16px; } .aldi-video-card { padding: 20px; height: fit-content; max-width: none; } .aldi-video-card:hover { transform: scale(1.02) translateY(-6px); } .aldi-photo-item { width: 140px; height: 140px; border-radius: 20px; } .aldi-photo-item:hover { transform: scale(1.2) translateY(-8px); box-shadow: 0 12px 24px rgba(123, 97, 255, 0.4), 0 6px 12px rgba(0, 0, 0, 0.2); } .aldi-video-title { font-size: 15px; } .aldi-detail-title { font-size: 24px; } .aldi-detail-description { font-size: 15px; } .aldi-lightbox-content { max-width: 100vw; max-height: 100vh; } .aldi-lightbox-video { width: 95vw; height: 53.4vw; min-width: 300px; min-height: 169px; max-width: 800px; max-height: 450px; } .aldi-lightbox-img { max-width: 85vw; max-height: 70vh; } .aldi-lightbox-close { top: 20px; right: 20px; width: 36px; height: 36px; font-size: 16px; } .aldi-lightbox-close:hover { top: 20px; right: 20px; } .aldi-nav { font-size: 16px; padding: 10px 12px; } .aldi-prev { left: 20px; } .aldi-next { right: 20px; } }
@media (max-width: 480px) { .aldi-popup-overlay { padding: 0; } .aldi-popup-content { width: 100%; height: 100vh; max-height: 100vh; border-radius: 0; } .aldi-body { max-height: calc(100vh - 68px); } .aldi-video-page { padding: 24px 16px 36px; } .aldi-photo-page { padding: 16px; } .aldi-photo-grid { grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)); gap: 12px; padding-bottom: 12px; } .aldi-video-card { height: fit-content; padding: 16px; margin-bottom: 8px; } .aldi-video-card:last-child { margin-bottom: 20px; } .aldi-photo-item { width: 110px; height: 110px; border-radius: 16px; } .aldi-photo-item:hover { transform: scale(1.15) translateY(-6px); box-shadow: 0 8px 16px rgba(123, 97, 255, 0.35), 0 4px 8px rgba(0, 0, 0, 0.15); } .aldi-video-title { font-size: 14px; } .aldi-detail-title { font-size: 20px; } .aldi-lightbox-video { width: 92vw; height: 51.8vw; min-width: 280px; min-height: 158px; } .aldi-lightbox-img { max-width: 90vw; max-height: 65vh; } }
@supports (padding-top: env(safe-area-inset-top)) { .aldi-lightbox-close { top: max(40px, calc(env(safe-area-inset-top) + 20px)); } @media (max-width: 768px) { .aldi-lightbox-close { top: max(20px, calc(env(safe-area-inset-top) + 10px)); } .aldi-lightbox-close:hover { top: max(20px, calc(env(safe-area-inset-top) + 10px)) !important; } .aldi-popup-overlay { padding-top: max(10px, calc(env(safe-area-inset-top) + 5px)); padding-bottom: max(10px, calc(env(safe-area-inset-bottom) + 5px)); } } }
@media (hover: none) and (pointer: coarse) { .aldi-video-card:hover { transform: none; background: inherit; backdrop-filter: blur(15px); border-color: rgba(255, 255, 255, 0.1); box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4); } .aldi-video-card:active { transform: scale(0.98); transition: transform 0.1s ease; } .aldi-video-card:hover::before { opacity: 0; } }
@supports not (backdrop-filter: blur(10px)) { .aldi-video-card { background: linear-gradient(145deg, #0f0f1e, #1e1e3c); } }
</style>
</head>
<body>
<div class="aldi-main-container">
<div class="aldi-popup-overlay" id="aldiPopupOverlay">
<div class="aldi-popup-content">
<div class="aldi-header">
<h2 class="aldi-title" id="aldiPopupTitle">Portfolio</h2>
<button class="aldi-close" onclick="aldiClosePopup()" type="button">&times;</button>
</div>
<div class="aldi-body">
<div class="aldi-video-page" id="aldiVideoPage">
<div class="aldi-videos-grid" id="aldiVideosGrid">
<div class="aldi-loading">Loading videos...</div>
</div>
</div>
<div class="aldi-photo-page" id="aldiPhotoPage">
<div class="aldi-photo-grid" id="aldiPhotoGrid">
<div class="aldi-loading">Loading photos...</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="aldi-lightbox" id="aldiLightbox">
<div class="aldi-lightbox-content">
<iframe class="aldi-lightbox-video" id="aldiLightboxVideo" allowfullscreen></iframe>
<img class="aldi-lightbox-img" id="aldiLightboxImg" alt="Photo">
<button class="aldi-lightbox-close" onclick="aldiCloseLightbox()" type="button">&times;</button>
<button class="aldi-nav aldi-prev" onclick="aldiPrevItem()" type="button">&lt;</button>
<button class="aldi-nav aldi-next" onclick="aldiNextItem()" type="button">&gt;</button>
</div>
</div>
<script>
(function() {
'use strict';
const aldiData = { 
  clientVideos: { 
    '8amities': { 
      title: "8'amities", 
      description: "Konten visual fashion kasual yang memperkuat branding dan daya tarik audiens dengan foto dan video dinamis.", 
      videos: [ 
        {title: "8'Amities Astro", id: "1eVyUJjRVVBAOSIEDDRUPq-w9SinkjbNq"}, 
        {title: "8'Amities Stan", id: "1wvkUBOtxGbA-yKIOx3evA5FRWTclbkEG"}, 
        {title: "8'Amities GBK", id: "1oog_2GnLg5Bf7ygQh9LgY5dZPIrVwr-m"} 
      ] 
    }, 
    'cemilanketo': { 
      title: "Cemilan Keto", 
      description: "Konten edukatif cemilan sehat keto yang menampilkan produk berkualitas dengan visual menggugah selera.", 
      videos: [ 
        {title: "Pizza", id: "1ylrXLPCeESz0uhx2AFLWm1MO2ioz0-q5"}, 
        {title: "Jajanan Pasar", id: "1yVkp8z7oTmDw_piImzHLL-8WzUlWuhR5"}, 
        {title: "Dimsum", id: "1Yo4mu28jNF7rEBy7LGVR3vyah7UJQpon"}, 
        {title: "Olahan Ayam", id: "1O01ZMw55-Ahm7Nl6tmM33OSpgwLZuEhD"} 
      ] 
    },
    'ribsgold': {
      title: "Ribsgold",
      description: "Strategi konten unisex fashion yang menyasar pria dan wanita dengan visual modern dan gaya kontemporer.",
      videos: [
        { title: "Kemeja Togs", id: "1Z92xucR5FNXt-Vl0QjfScgBPSKNdu2Bn" },
        { title: "Bevery Unique", id: "19oKWsTqhWSGkc2DNS13pHqwYqqnnv2d2" },
        { title: "Kemeja Flanel", id: "10G217ouwOhJyTqpU0kjvWEFgKF0-0cBe" },
        { title: "Tampil Timless", id: "1ll48B46L1iXRlLG7IkE6o_4rAKYvtNnJ" },
        { title: "Outfit Sehari Hari", id: "1hY_q2AWmFqWHCI0PiEvzHAne6Eo4L54v" },
        { title: "Anak Motor", id: "1nJ09BvdcahFq0oZm_wLGPK2qJ7VfmLir" },
        { title: "Drama Rese", id: "1HnKdnOHXbWXUvRnzba6Q0eTeIIRZ2h3i" },
        { title: "Kado Buat Ayah", id: "1aElb50aKJoXbg40xYJSU_j2wo2WPZZNr" }
      ]
    },
    'bymanda': {
      title: "Bymanda",
      description: "Strategi media sosial kreatif dengan konten visual yang efektif menyampaikan pesan brand dan engagement.",
      videos: [
        { title: "Cadar", id: "1d3kCw4Jrut3qRPqSGYQ_ERL87FSc7k-C" },
        { title: "Gamis I", id: "1WUgGKElKs1oU1Pwne38JGGPn3cMAc4ox" },
        { title: "Gamis II", id: "1OeCJOINqDVeVdpBgzEOWvYrK9KW6Opr8" },
        { title: "Mukena", id: "1DD-y6ceziLZ5kVEIF3UvA5f1QbY43Quh" }
      ]
    }
  }, 
  portfolios: { 
    'amities': { 
      title: "8'Amities Fashion Photography", 
      path: "8'Amities/", 
      photos: [ 'Astro%20(1).webp', 'Astro%20(2).webp', 'Astro%20(3).webp', 'Astro%20(4).webp', 'Astro%20(5).webp', 'GBK%20(1).webp', 'GBK%20(2).webp', 'GBK%20(3).webp', 'GBK%20(4).webp', 'GBK%20(5).webp', 'Stan%20(1).webp', 'Stan%20(2).webp', 'Stan%20(3).webp', 'Stan%20(4).webp', 'Stan%20(5).webp' ] 
    }, 
    'accent': { 
      title: 'Accent Ambios Product Photography', 
      path: 'Accent%20Ambios/', 
      photos: Array.from({length: 10}, (v, k) => `Accent%20Ambios%20(${k + 1}).webp`) 
    }, 
    'ribsgold': { 
      title: 'Ribsgold Product Photography', 
      path: 'Ribsgold/', 
      photos: Array.from({length: 10}, (v, k) => `Ribsgold%20(${k + 1}).webp`) 
    }, 
    'kopi': { 
      title: 'Kopi Bituka Cafe Photography', 
      path: 'Kopi%20Bituka/', 
      photos: Array.from({length: 10}, (v, k) => `Kopi%20Bituka%20(${k + 1}).webp`) 
    }, 
    'bride': { 
      title: 'White Bride Wedding Collection', 
      path: 'White%20Bride/', 
      photos: Array.from({length: 10}, (v, k) => `White%20Bride%20(${k + 1}).webp`) 
    } 
  } 
};
const aldiBaseUrl = 'https://raw.githubusercontent.com/aldiiiwijaya/aldiiiwijaya_/main/Foto/Foto%20';
let aldiCurrentItems = [];
let aldiCurrentIndex = 0;
let aldiCurrentType = '';
let aldiImageCache = new Map();
let aldiTouchStartX = 0;
let aldiTouchEndX = 0;
let aldiTouchStartTime = 0;
function aldiGetEl(id) { return document.getElementById(id); }
function aldiGetUrlParam(param) { return new URLSearchParams(window.location.search).get(param); }
function aldiPreloadImage(src) { return new Promise((resolve, reject) => { if (aldiImageCache.has(src)) { resolve(aldiImageCache.get(src)); return; } const img = new Image(); img.onload = () => { aldiImageCache.set(src, img); resolve(img); }; img.onerror = reject; img.src = src; }); }
const aldiImageObserver = new IntersectionObserver((entries, observer) => { entries.forEach(entry => { if (entry.isIntersecting) { const img = entry.target; aldiPreloadImage(img.dataset.src).then(() => { img.src = img.dataset.src; img.classList.add('aldi-loaded'); }).catch(() => { img.parentElement.style.display = 'none'; }); observer.unobserve(img); } }); });
function aldiLoadClientVideos(clientId) { const client = aldiData.clientVideos[clientId]; if (!client) { aldiShowError('Client not found'); return; } aldiCurrentItems = client.videos; aldiCurrentType = 'video'; aldiGetEl('aldiPopupTitle').textContent = client.title; const videosHTML = client.videos.map((video, index) => `<div class="aldi-video-card" onclick="aldiOpenLightbox(${index})" style="animation-delay: ${index * 0.1}s;"><div class="aldi-video-wrapper"><iframe src="https://drive.google.com/file/d/${video.id}/preview" allowfullscreen loading="lazy"></iframe></div><div class="aldi-video-title">${video.title}</div></div>`).join(''); aldiGetEl('aldiVideosGrid').innerHTML = videosHTML; aldiGetEl('aldiVideoPage').style.display = 'block'; aldiGetEl('aldiPhotoPage').style.display = 'none'; }
function aldiLoadPortfolio(clientId) { const portfolio = aldiData.portfolios[clientId]; if (!portfolio) { aldiShowError('Portfolio not found'); return; } aldiCurrentItems = portfolio.photos.map(photo => aldiBaseUrl + portfolio.path + photo); aldiCurrentType = 'photo'; aldiGetEl('aldiPopupTitle').textContent = portfolio.title; aldiRenderPhotos(); aldiGetEl('aldiVideoPage').style.display = 'none'; aldiGetEl('aldiPhotoPage').style.display = 'block'; const preloadCount = Math.min(6, aldiCurrentItems.length); Promise.all(aldiCurrentItems.slice(0, preloadCount).map(aldiPreloadImage)).then(() => { console.log('First batch preloaded'); }); }
function aldiRenderPhotos() { const grid = aldiGetEl('aldiPhotoGrid'); grid.innerHTML = ''; aldiCurrentItems.forEach((photoUrl, index) => { const photoItem = document.createElement('div'); photoItem.className = 'aldi-photo-item'; photoItem.style.animationDelay = `${index * 0.08}s`; photoItem.onclick = () => aldiOpenLightbox(index); const img = document.createElement('img'); img.alt = `Photo ${index + 1}`; img.loading = 'lazy'; img.classList.add('aldi-lazy'); if (index < 6) { img.src = photoUrl; } else { img.dataset.src = photoUrl; img.src = 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"%3E%3C/svg%3E'; aldiImageObserver.observe(img); } img.onerror = function() { this.parentElement.style.display = 'none'; }; photoItem.appendChild(img); grid.appendChild(photoItem); }); }
function aldiShowError(message) { const videoGrid = aldiGetEl('aldiVideosGrid'); const photoGrid = aldiGetEl('aldiPhotoGrid'); if (videoGrid) videoGrid.innerHTML = `<div class="aldi-error">${message}</div>`; if (photoGrid) photoGrid.innerHTML = `<div class="aldi-error">${message}</div>`; }
function aldiOpenLightbox(index) { if (aldiCurrentItems.length === 0) return; aldiCurrentIndex = index; const lightbox = aldiGetEl('aldiLightbox'); const lightboxVideo = aldiGetEl('aldiLightboxVideo'); const lightboxImg = aldiGetEl('aldiLightboxImg'); if (aldiCurrentType === 'video') { const video = aldiCurrentItems[index]; lightboxVideo.src = `https://drive.google.com/file/d/${video.id}/preview`; lightboxVideo.style.display = 'block'; lightboxImg.style.display = 'none'; } else { lightboxImg.style.opacity = '0.5'; aldiPreloadImage(aldiCurrentItems[index]).then(() => { lightboxImg.src = aldiCurrentItems[index]; lightboxImg.style.opacity = '1'; lightboxVideo.style.display = 'none'; lightboxImg.style.display = 'block'; const nextIndex = (index + 1) % aldiCurrentItems.length; const prevIndex = (index - 1 + aldiCurrentItems.length) % aldiCurrentItems.length; aldiPreloadImage(aldiCurrentItems[nextIndex]); aldiPreloadImage(aldiCurrentItems[prevIndex]); }); } lightbox.classList.add('aldi-active'); }
function aldiCloseLightbox() { const lightbox = aldiGetEl('aldiLightbox'); lightbox.classList.remove('aldi-active'); aldiGetEl('aldiLightboxVideo').src = ''; }
function aldiNextItem() { if (aldiCurrentItems.length === 0) return; aldiCurrentIndex = (aldiCurrentIndex + 1) % aldiCurrentItems.length; if (aldiCurrentType === 'video') { const video = aldiCurrentItems[aldiCurrentIndex]; aldiGetEl('aldiLightboxVideo').src = `https://drive.google.com/file/d/${video.id}/preview`; } else { const img = aldiGetEl('aldiLightboxImg'); img.style.opacity = '0.5'; aldiPreloadImage(aldiCurrentItems[aldiCurrentIndex]).then(() => { img.src = aldiCurrentItems[aldiCurrentIndex]; img.style.opacity = '1'; const nextIndex = (aldiCurrentIndex + 1) % aldiCurrentItems.length; aldiPreloadImage(aldiCurrentItems[nextIndex]); }); } }
function aldiPrevItem() { if (aldiCurrentItems.length === 0) return; aldiCurrentIndex = (aldiCurrentIndex - 1 + aldiCurrentItems.length) % aldiCurrentItems.length; if (aldiCurrentType === 'video') { const video = aldiCurrentItems[aldiCurrentIndex]; aldiGetEl('aldiLightboxVideo').src = `https://drive.google.com/file/d/${video.id}/preview`; } else { const img = aldiGetEl('aldiLightboxImg'); img.style.opacity = '0.5'; aldiPreloadImage(aldiCurrentItems[aldiCurrentIndex]).then(() => { img.src = aldiCurrentItems[aldiCurrentIndex]; img.style.opacity = '1'; const prevIndex = (aldiCurrentIndex - 1 + aldiCurrentItems.length) % aldiCurrentItems.length; aldiPreloadImage(aldiCurrentItems[prevIndex]); }); } }
function aldiClosePopup() { console.log('Closing popup...'); if (window.parent !== window) { window.parent.postMessage({action: 'closePopup'}, '*'); } }
document.addEventListener('keydown', e => { if (aldiGetEl('aldiLightbox').classList.contains('aldi-active')) { if (e.key === 'Escape') aldiCloseLightbox(); if (e.key === 'ArrowLeft') aldiPrevItem(); if (e.key === 'ArrowRight') aldiNextItem(); } else if (e.key === 'Escape') { aldiClosePopup(); } });
aldiGetEl('aldiLightbox').addEventListener('touchstart', e => { aldiTouchStartX = e.changedTouches[0].screenX; aldiTouchStartTime = Date.now(); }, {passive: true});
aldiGetEl('aldiLightbox').addEventListener('touchend', e => { aldiTouchEndX = e.changedTouches[0].screenX; const touchDuration = Date.now() - aldiTouchStartTime; if (touchDuration < 300 && Math.abs(aldiTouchEndX - aldiTouchStartX) > 50) { aldiTouchEndX < aldiTouchStartX - 50 ? aldiNextItem() : aldiTouchEndX > aldiTouchStartX + 50 ? aldiPrevItem() : null; } }, {passive: true});
aldiGetEl('aldiLightbox').addEventListener('click', e => { if (e.target.id === 'aldiLightbox') aldiCloseLightbox(); });
window.addEventListener('message', event => { console.log('Received message:', event.data); if (event.data && event.data.action) { const {action, client, type} = event.data; if (action === 'loadContent' && client) { console.log(`Loading ${type} content for client: ${client}`); if (type === 'video' && aldiData.clientVideos[client]) { aldiLoadClientVideos(client); } else if (type === 'photo' && aldiData.portfolios[client]) { aldiLoadPortfolio(client); } else { console.error('Content not found for:', client, type); aldiShowError('Content not found'); } } } });
window.addEventListener('load', () => { console.log('Page loaded, checking URL parameters...'); const client = aldiGetUrlParam('client'); const type = aldiGetUrlParam('type'); console.log('URL params - client:', client, 'type:', type); if (client && type) { if (type === 'video' && aldiData.clientVideos[client]) { console.log('Loading client videos:', client); aldiLoadClientVideos(client); } else if (type === 'photo' && aldiData.portfolios[client]) { console.log('Loading portfolio photos:', client); aldiLoadPortfolio(client); } else { console.error('Content not found for:', client, type); aldiShowError('Content not found'); } } else { console.log('No valid parameters found, showing default message'); aldiShowError('Please select a portfolio to view'); } });
console.log('Portfolio popup script loaded'); console.log('Available clients:', Object.keys(aldiData.clientVideos)); console.log('Available portfolios:', Object.keys(aldiData.portfolios));
})();
</script>
</body>
</html>
